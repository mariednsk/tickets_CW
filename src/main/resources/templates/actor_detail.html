<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title th:text="${a.fullName + ' ‚Äî –°–ø—Ä–∞–≤–æ—á–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–µ–∞—Ç—Ä–∞'}">–ê—Ä—Ç–∏—Å—Ç</title>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/5/w3.css">
    <style>
        body { background:#f5f0eb; font-family: "Arial", sans-serif; color:#321b0c; margin:0; }
        .topbar { position: sticky; top:0; z-index:50; }
        .container { max-width:1100px; margin:100px auto 60px; padding:0 16px; }
        .artist-header { text-align:center; margin-bottom:50px; }
        .artist-photo {
            width: 300px;
            height: 300px;
            object-fit: cover;
            border-radius: 50%;
            border: 8px solid #321b0c;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }
        .artist-name { font-size:38px; color:#321b0c; margin:30px 0 10px; font-weight:700; }
        .artist-bio {
            font-size:18px;
            line-height:1.8;
            color:#555;
            max-width:800px;
            margin:0 auto 60px;
            padding:0 20px;
        }
        h2 { text-align:center; color:#321b0c; font-size:32px; margin:60px 0 30px; }
        .grid { display:grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap:24px; }
        .card { background:white; border-radius:12px; overflow:hidden; box-shadow:0 8px 20px rgba(0,0,0,0.08); transition: transform .2s ease, box-shadow .2s ease; }
        .card:hover { transform: translateY(-8px); box-shadow:0 18px 40px rgba(0,0,0,0.14); }
        .thumb { width:100%; height:320px; object-fit:cover; }
        .card-content { padding:18px; text-align:center; }
        .card-title { font-size:20px; font-weight:700; color:#321b0c; margin:0 0 8px; }
        .card-meta { font-size:14px; color:#6b5b50; }
        .btn { background:#321b0c; color:white; padding:10px 16px; border-radius:6px; text-decoration:none; display:inline-block; margin-top:12px; }
        .btn:hover { background:#4b3224; }
        .back-link {
            display:block;
            text-align:center;
            margin:60px 0 40px;
            font-size:18px;
            color:#321b0c;
            text-decoration:none;
            font-weight:bold;
        }
        .back-link:hover { text-decoration:underline; }
        @media (max-width:600px) {
            .artist-photo { width:200px; height:200px; }
            .artist-name { font-size:30px; }
            .thumb { height:200px; }
        }
    </style>
</head>
<body>

<!-- –®–∞–ø–∫–∞ ‚Äî —Ç–∞–∫–∞—è –∂–µ, –∫–∞–∫ –Ω–∞ –∞—Ñ–∏—à–µ –∏ –∞—Ä—Ç–∏—Å—Ç–∞—Ö -->
<div class="w3-top topbar">
    <div class="w3-row w3-padding w3-black">
        <div class="w3-col s3"><a th:href="@{/}" class="w3-button w3-block w3-black">–ì–ª–∞–≤–Ω–∞—è</a></div>
        <div class="w3-col s3"><a th:href="@{/actors}" class="w3-button w3-block w3-black">–ê—Ä—Ç–∏—Å—Ç—ã</a></div>
        <div class="w3-col s2 m2 l2">
            <a th:href="@{/about}" class="w3-button w3-block w3-black">–û–± –∞–≤—Ç–æ—Ä–µ</a>
        </div>
        <div class="w3-col s3" sec:authorize="isAuthenticated()">
            <a th:href="@{/profile}" class="w3-button w3-block w3-black">
                üë§ <span sec:authentication="name"></span>
            </a>
        </div>
        <div class="w3-col s3" sec:authorize="isAuthenticated()">
            <form th:action="@{/logout}" method="post" style="margin:0;">
                <button class="w3-button w3-block w3-black" type="submit">–í—ã–π—Ç–∏</button>
            </form>
        </div>
        <div class="w3-col s3" sec:authorize="isAnonymous()">
            <a th:href="@{/login}" class="w3-button w3-block w3-black">–í—Ö–æ–¥</a>
        </div>
    </div>
</div>

<div class="container">

    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∏ —Ñ–æ—Ç–æ –∞—Ä—Ç–∏—Å—Ç–∞ -->
    <div class="artist-header">
        <img th:src="@{'/uploads/' + ${a.photo}}"
             th:alt="${a.fullName}"
             class="artist-photo"
             onerror="this.src='https://via.placeholder.com/300?text=–ê—Ä—Ç–∏—Å—Ç';">
        <h1 class="artist-name" th:text="${a.fullName}">–ò–º—è –§–∞–º–∏–ª–∏—è</h1>
    </div>

    <!-- –ë–∏–æ–≥—Ä–∞—Ñ–∏—è -->
    <div class="artist-bio" th:text="${a.bio}" th:if="${a.bio != null && !a.bio.isBlank()}">
        –ë–∏–æ–≥—Ä–∞—Ñ–∏—è –∞—Ä—Ç–∏—Å—Ç–∞...
    </div>
    <div th:unless="${a.bio != null && !a.bio.isBlank()}" class="artist-bio" style="color:#888;">
        –ë–∏–æ–≥—Ä–∞—Ñ–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç.
    </div>

    <!-- –°–ø–µ–∫—Ç–∞–∫–ª–∏ —Å —É—á–∞—Å—Ç–∏–µ–º -->
    <h2>–°–ø–µ–∫—Ç–∞–∫–ª–∏ —Å —É—á–∞—Å—Ç–∏–µ–º –∞—Ä—Ç–∏—Å—Ç–∞</h2>

    <div th:if="${performances.isEmpty()}" style="text-align:center;color:#888;font-size:20px;padding:60px;">
        –ê—Ä—Ç–∏—Å—Ç –ø–æ–∫–∞ –Ω–µ —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ —Å–ø–µ–∫—Ç–∞–∫–ª—è—Ö
    </div>

    <div class="grid" th:unless="${performances.isEmpty()}">
        <div th:each="perf : ${performances}" class="card">
            <a th:href="@{'/performances/' + ${perf.id}}">
                <img th:src="@{'/uploads/' + ${perf.image}}"
                     class="thumb"
                     onerror="this.src='https://via.placeholder.com/300x320?text=–°–ø–µ–∫—Ç–∞–∫–ª—å';">
            </a>
            <div class="card-content">
                <h3 class="card-title" th:text="${perf.title}">–ù–∞–∑–≤–∞–Ω–∏–µ —Å–ø–µ–∫—Ç–∞–∫–ª—è</h3>
                <p class="card-meta" th:text="${perf.genre + ' ¬∑ ' + perf.date + ' ' + perf.time}">–ñ–∞–Ω—Ä ¬∑ –î–∞—Ç–∞</p>
                <a th:href="@{'/performances/' + ${perf.id}}" class="btn">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
            </div>
        </div>
    </div>

    <!-- –°—Å—ã–ª–∫–∞ –Ω–∞–∑–∞–¥ -->
    <a th:href="@{/actors}" class="back-link">‚Üê –ö–æ –≤—Å–µ–º –∞—Ä—Ç–∏—Å—Ç–∞–º</a>

</div>

</body>
</html>